define(["../constants","./terrain","./item","./actor"],function(c,d,b,a){function e(f){d.registerComponent(f);b.registerComponent(f);a.registerComponent(f)}return{registerComponent:function(f){Crafty.c("Grid",{init:function(){this.requires("2D, Canvas");this.attr({w:c.getTileSize("px").width,h:c.getTileSize("px").height})},at:function(g,h){if(g===undefined&&h===undefined){return{x:this.x/c.getTileSize("px").width,y:this.y/c.getTileSize("px").height}}else{this.attr({x:g*c.getTileSize("px").width,y:h*c.getTileSize("px").height});return this}}});e(f)}}});