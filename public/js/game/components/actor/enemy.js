define(["./enemy/enemy1","./enemy/enemy2","./enemy/enemy3","./enemy/enemy4","./enemy/enemy5","./enemy/patrol"],function(g,f,e,d,a,c){var b=25;var j=45;var i=45;var h=75;function k(l){g.registerComponent(l);f.registerComponent(l);e.registerComponent(l);d.registerComponent(l);a.registerComponent(l);c.registerComponent(l)}return{registerComponent:function(l){Crafty.c("Enemy",{multiplayerDamage:function(m){if(Crafty("Multiplayer").length>0){Crafty("Character").multiplayerDamage(this._id,m)}},damage:function(){Crafty.audio.play("attack");Crafty.audio.play("monster_scream");var m;if(Crafty("Character")._power>0){m=Math.floor(Math.random()*(h-i+1)+i);this._enemyHealth=this._enemyHealth-m;Crafty("Character")._power--;if(Crafty("Character")._power===0){Crafty("Character").removeBonus("power")}}else{m=Math.floor(Math.random()*(j-b+1)+b);this._enemyHealth=this._enemyHealth-m}this.multiplayerDamage(m);if(this._enemyHealth>0){$("#enemybar").css({width:(this._enemyHealth*3)+"px"});return false}else{Crafty.audio.play("enemy_death");$($(".lifebox").children()[2]).hide();$($(".lifebox").children()[3]).hide();$("#enemybar").css({width:"300px"});Crafty("Character")._detectionEnemy.destroy();Crafty.audio.stop("battle");Crafty.audio.play("level",-1);return true}},startEnemy:function(){this.addComponent("Patrol")},stopEnemy:function(){this.pauseAnimation();this.removeComponent("Patrol");this.unbind("EnterFrame")},init:function(){this.requires("Actor");this.z=5;if(!l){this.gravity("Terrain").gravityConst(0.3);this._enemyHealth=100;this.startEnemy()}}});k(l)}}});